<!DOCTYPE html>

<html lang="en" dir="ltr">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <title>Audio Player â€¢ Visionlearning</title>

        <!-- Natura11y Icons -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/cavidano/visionlearning@main/dist/icons/visionlearning-icons.css">

    </head>

    <body>

        <main class="overflow-hidden">

			<div class="margin-y-5">

                <div id="audio-player">
                    <audio id="audio">
                        <source src="https://www.visionlearning.com/img/library/moduleAudio/module_64.mp3" type="audio/mpeg">
                        Your browser does not support the audio element.
                    </audio>
                    <div id="controls">
                        <button id="play-pause-button">Play</button>
                        <div id="progress-bar">
                            <div id="progress"></div>
                        </div>
                        <input type="range" id="volume-slider" min="0" max="1" step="0.01" value="1">
                        <span id="timestamp">00:00</span>
                    </div>
                </div>

			</div>

        </main>

        <script>
                
            const audio = document.getElementById('audio');
            const playPauseButton = document.getElementById('play-pause-button');
            const progressBar = document.getElementById('progress-bar');
            const progress = document.getElementById('progress');
            const volumeSlider = document.getElementById('volume-slider');
            const timestamp = document.getElementById('timestamp');

            let isPlaying = false;

            playPauseButton.addEventListener('click', function () {
                isPlaying ? audio.pause() : audio.play();
                isPlaying = !isPlaying;
                playPauseButton.innerText = isPlaying ? 'Pause' : 'Play';
            });

            audio.addEventListener('timeupdate', function () {
                const progressPercentage = (audio.currentTime / audio.duration) * 100;
                progress.style.width = `${progressPercentage}%`;
                
                const minutes = Math.floor(audio.currentTime / 60);
                const seconds = Math.floor(audio.currentTime - minutes * 60);
                timestamp.innerText = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            });

            volumeSlider.addEventListener('input', function () {
                audio.volume = volumeSlider.value;
            });

            progressBar.addEventListener('click', function (e) {
                const clickPositionInBar = e.clientX - progressBar.getBoundingClientRect().left;
                const progressPercentage = (clickPositionInBar / progressBar.offsetWidth) * 100;
                audio.currentTime = (progressPercentage / 100) * audio.duration;
            });

                
        </script>

    </body>

</html>