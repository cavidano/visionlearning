
//////////////////////////////////////////////
// A. Modules
//////////////////////////////////////////////

@use "sass:map";
@use "../breakpoint/style" as breakpoint;

//////////////////////////////////////////////
// A. CSS Grid Component
//////////////////////////////////////////////

.grid {
  --grid-columns: null;
  --grid-gap: var(--spacer-2);

  position: relative;

  display: grid;
  gap: var(--grid-gap);
}

[class*="grid--columns"] {
    @include breakpoint.breakpoints-up(lg) {

      &[class*="columns-2"] {
        --grid-columns: 2;
      }

      &[class*="columns-3"] {
        --grid-columns: 3;
      }

      &[class*="columns-4"] {
        --grid-columns: 4;
      }
      
      grid-template-columns: repeat(var(--grid-columns), 1fr);

    }
}

//////////////////////////////////////////////
// B. Grid Discipline
//////////////////////////////////////////////

// Grid Discipline Component

.grid--discipline { 
  --grid-columns: 4;
  --grid-gap: null;

  grid-template-columns: repeat(var(--grid-columns), 1fr);

  .backdrop {
    overflow: hidden;
    z-index: auto;
    
    &:hover {
      cursor: pointer;
    }

    &:nth-child(1), 
    &:nth-child(5) {
      transform-origin: left;
    }

    &:nth-child(4), 
    &:nth-child(8) {
      transform-origin: right;
    }

    &.focused, 
    &.unfocused {
      animation-duration: 0.25s;
      animation-fill-mode: forwards;
      z-index: 1500;
    }
    
    &.focused {
      overflow: visible;
      animation-name: scaleUp;
    }

    &.unfocused {
      animation-name: scaleDown;
    }

  }

}

// Grid Discipline Info

.grid--discipline__info {
    position: absolute;
    top: 100%;

    background-color: inherit;

    padding-left: var(--spacer-2);
    padding-right: var(--spacer-2);
    padding-bottom: var(--spacer-2);
    
    font-size: calc( var(--font-size-md) * 0.875);
    transition: opacity 0.125s;
}

// Keyframe Animations

@keyframes scaleUp {

  from {
    transform: scale(1);
    filter: none;
  }

  to {
    transform: scale(1.25);
    filter: drop-shadow(0 0 0.5em hsla(0, 0%, 0%, 0.375));
  }
  
}

@keyframes scaleDown {

  from {
    transform: scale(1.25);
  }

  to {
    transform: scale(1);
  }

}

//////////////////////////////////////////////
// B. Grid Overview
//////////////////////////////////////////////

.grid--introduction {
    --columns: 2;
    --grid-gap: var(--spacer-4);

    @include breakpoint.breakpoints-up(lg) {
      
      [class*="--discipline"] {
        grid-area: disciplines;
      }

      .vl {
        grid-area: vl;
      }

      .ngss {
        grid-area: ngss;
      }
      
      grid-template-areas: 
        "disciplines disciplines"
        "vl ngss";

    }
}
