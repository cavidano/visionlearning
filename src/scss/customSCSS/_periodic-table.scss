/*

In this file:

// A. Variables
// B. Components

*/

//////////////////////////////////////////////
// A. Modules
//////////////////////////////////////////////

:root {
    --actinides: #81314C;
    --actinides-tint: #81314C26;
    
    --alkali-metals: #1A679C;
    --alkali-metals-tint: #1A679C26;
    
    --alkaline-earth-metals: #942E27;
    --alkaline-earth-metals-tint: #942E2726;

    --halogens: #131B6C;
    --halogens-tint: #131B6C26;
    
    --lanthanides: #175E82;
    --lanthanides-tint: #175E8226;
    
    --metalloids: #A04012;
    --metalloids-tint: #A0401226;
    
    --noble-gases: #8E0B37;
    --noble-gases-tint: #8E0B3726;

    --post-transition-metals: #17804B;
    --post-transition-metals-tint: #17804B26;
    
    --reactive-nonmetals: #00989C;
    --reactive-nonmetals-tint: #00989C26;

    --transition-metals: #641B98;
    --transition-metals-tint: #641B9826;

    --unknown-properties: #505050;
    --unknown-properties-tint: #50505026;
}

/* Actinides */
[data-group="actinides"] {
    color: var(--actinides);
    background-color: var(--actinides-tint);
}

/* Alkaline metals */
[data-group="alkali-metals"] {
    color: var(--alkali-metals);
    background-color: var(--alkali-metals-tint);
}

/* Alkaline earth metals */
[data-group="alkaline-earth-metals"] {
    color: var(--alkaline-earth-metals);
    background-color: var(--alkaline-earth-metals-tint);
}

/* Halogens */
[data-group="halogens"] {
    color: var(--halogens);
    background-color: var(--halogens-tint);
}

/* Lanthanides */
[data-group="lanthanides"] {
    color: var(--lanthanides);
    background-color: var(--lanthanides-tint);
}

/* Metalloids */
[data-group="metalloids"] {
    color: var(--metalloids);
    background-color: var(--metalloids-tint);
}

/* Noble gases */
[data-group="noble-gases"] {
    color: var(--noble-gases);
    background-color: var(--noble-gases-tint);
}

/* Post-transition metals */
[data-group="post-transition-metals"] {
    color: var(--post-transition-metals);
    background-color: var(--post-transition-metals-tint);
}

/* Reactive nonmetals */
[data-group="reactive-nonmetals"] {
    color: var(--reactive-nonmetals);
    background-color: var(--reactive-nonmetals-tint);
}

/* Transition metals */
[data-group="transition-metals"] {
    color: var(--transition-metals);
    background-color: var(--transition-metals-tint);
}

/* Unknown properties */
[data-group="unknown-properties"] {
    color: var(--unknown-properties);
    background-color: var(--unknown-properties-tint);
}

//////////////////////////////////////////////
// A. Components
//////////////////////////////////////////////

// The Periodic Table

.periodic-table {
    --gap: 0.25cqi;

    display: grid;
    grid-template-columns: repeat(18, 1fr);

    gap: var(--gap);
    
    padding: var(--spacer-3);

    grid-template-areas:
        "H . . . key key . . . . . . . . . . . He"
        "Li Be . . key key . . . . . . B C N O F Ne"
        "Na Mg . . . . . . . . . . Al Si P S Cl Ar"
        "Na Mg . . . . . . . . . . Al Si P S Cl Ar"
        "K Ca Sc Ti V Cr Mn Fe Co Ni Cu Zn Ga Ge As Se Br Kr"
        "Rb Sr Y Zr Nb Mo Tc Ru Rh Pd Ag Cd In Sn Sb Te I Xe"
        "Cs Ba connector Hf Ta W Re Os Ir Pt Au Hg Tl Pb Bi Po At Rn"
        "Fr Ra connector Rf Db Sg Bh Hs Mt Ds Rg Cn Nh Fl Mc Lv Ts Og"
        ". . connector space space space space space space space space space space space space space space space"
        ". . connector La Ce Pr Nd Pm Sm Eu Gd Tb Dy Ho Er Tm Yb Lu"
        ". . connector Ac Th Pa U Np Pu Am Cm Bk Cf Es Fm Md No Lr";
        
    container: periodic-table / inline-size;
}

// The Periodic Table Key

.periodic-table__key {
    --pointer-width: 4cqi;
    
    grid-area: key;

    [class*="key__item"] {
        position: absolute;
        inset-inline-start: 100%;
        inset-block-start: 50%;

        transform: translateY(-50%);

        margin-inline-start: var(--pointer-width);
        
        white-space: nowrap;

        font-size: 1cqi;
        font-weight: var(--body-font-weight-normal);

        color: var(--text-color);

        &::before,
        &::after {
            content: "";
            position: absolute;
            color: var(--text-color);
            inset-block-start: 50%;
            inset-inline-start: 0;
        }

        &::before {
            display: inline-block;

            position: absolute;


            width: calc(var(--pointer-width) - 0.5em);
            border-bottom: 1px solid var(--text-color);
            transform: translateX(calc(-1 * var(--pointer-width)));
        }

        &::after {
            width: 0;
            height: 0;
            border-top: 0.5cqi solid transparent;
            border-bottom: 0.5cqi solid transparent;
            border-right: 0.5cqi solid var(--text-color);

            transform: translateY(-50%) translateX(calc(-1 * var(--pointer-width)));
        }
    }
}

.periodic-table__element {
    display: flex;
    flex-direction: column;
    align-items: center;

    gap: 0.25em;

    aspect-ratio: 1 / 1;

    justify-content: center;

    text-align: center;

    > p {
        position: relative;
        margin-bottom: unset;
        width: 100%;
    }

    [class^="symbol"] {
        font-weight: var(--body-font-weight-bold);
    }
}

// Periodic Table Element Button

.periodic-table__element {
    --min-size: clamp(2.5cqi, 88px, 5cqi);

    position: relative;

    min-height: var(--min-size);
    min-width: var(--min-size);

    padding: 1cqi;
    font-size: 0.875cqi;

    gap: var(--gap);

    [class^="symbol"] { 
        font-size: 1.5cqi;
        line-height: 1;
    }

    [class^="chemical-group"] {
        display: none;
    }
    
    &::before,
    &::after {
        position: absolute;
        padding: 0.5cqi;
        color: var(--text-color);
    }

    &::before {
        content: attr(data-period-number);
        inset-inline-start: 0;
        transform: translateX(-100%);
    }

    &::after {
        content: attr(data-group-number);
        inset-block-start: 0;
        transform: translateY(-100%);
    }
}

.periodic-table__element:not(button) {
    padding: 2cqi;

    // font-size: var(--font-size-md);

    [class^="symbol"] {
        font-size: 5cqi;
        line-height: 1;
    }
}

// Connectors

.periodic-table__connectors {
    grid-area: connector;
    position: relative;
}

.lanthanides-connector {
    clip-path: polygon(
        0% 0%,
        100% 60%,
        100% calc(80% - calc(var(--gap) * 1.5)),
        0% calc(20% - calc(var(--gap) * 1.5))
    );
    background: var(--lanthanides-tint);
    width: 100%;
    height: 100%;
    position: absolute;
}

.actinides-connector {
    clip-path: polygon(
        0% calc(20% + calc(var(--gap) * 1.5)),
        100% calc(80% + calc(var(--gap) * 1.5)),
        100% 100%,
        0% 40%
    );
    background: var(--actinides-tint);
    width: 100%;
    height: 100%;
    position: absolute;
}

.separator {
    grid-area: space;
    display: block;
    height: 6cqi;
}

// Model Viewer

.periodic-table-header {
    display: flex;
    flex-direction: row;
    align-items: center;

    gap: var(--spacer-4);

    padding-block: var(--spacer-3);
    
    .periodic-table__element {
        background-color: var(--reactive-nonmetals);
        color: whitesmoke;
        gap: var(--spacer-1);
    }
}
.model-viewer {
    position: relative;

    width: 100%;
    aspect-ratio: 2 / 1;
    
    overflow: hidden;

    z-index: 5;
}