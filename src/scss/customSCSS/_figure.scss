/*

In this file:

// A. Modules
// B. Variables
// C. Components

*/

//////////////////////////////////////////////
// A. Modules
//////////////////////////////////////////////

@use "sass:map";
@use "../breakpoint";
@use "../color";

//////////////////////////////////////////////
// B. Variables
//////////////////////////////////////////////

:root {
    --figure-margin-y: var(--spacer-5);
}

//////////////////////////////////////////////
// C. Components
//////////////////////////////////////////////

@layer component {

    // Figure utility classes

    .figure {
        margin-block: var(--figure-margin-y);

        &:not([class*="--math"]) {
            display: flex;
            justify-content: center;
            align-items: flex-start;
    
            gap: var(--spacer-3);
            
            figure {
                display: table;

                caption-side: bottom;

                overflow-x: auto;
            }

            figure > figcaption {
                display: table-caption;
            }

        }

        figure span.credit {
            filter: opacity(75%);
            display: block;
        }
    }

    .figure--right {
        max-width: 260px;

        float: right;

        margin-inline-start: var(--spacer-4);
        margin-block-end: var(--spacer-2);
    }

    // Math figures

    .figure--math {
        display: flex;
        flex-direction: column;
        align-items: center;

        figure {
            background-color: var(--light);

            max-width: 100%;
            
            overflow-x: auto;
            overflow-y: hidden;
        }

        mjx-container {
            display: flex;

            min-width: fit-content;
        }

        math {
            white-space: nowrap;
            line-height: 1;
            font-size: 1.25em;
        }
    }

    mjx-container {
        // background-color: bisque;
    }

    // Interactive animations CTA

    .interactive-animation-cta {

        // background-color: var(--light);
        
        display: flex;
        align-items: center;
        padding: 0.5em;
        margin-block: 1.5em;

        img {
            margin-inline-end: 1em;
        }
    }


} // end @layer