/*

In this file:

// A. Modules
// B. Variables
// C. Components

*/

//////////////////////////////////////////////
// A. Modules
//////////////////////////////////////////////

@use "sass:map";
@use "../breakpoint";

//////////////////////////////////////////////
// B. Variables
//////////////////////////////////////////////

.module {
    --grid-sidebar-width: 20em;
}

//////////////////////////////////////////////
// C. Components
//////////////////////////////////////////////

@layer {

    .module__section,
    .module__footer {
        --offest-x: calc(var(--container-padding-x-lg) * 2);

        margin-block-end: var(--spacer-5);
        position: relative;
    
    }

    .module__section:not(.did-you-know):not(.introduction),
    .module__footer {

        padding-block-start: var(--spacer-5);

        &::before {
            content: '';
            position: absolute;
            inset-block-start: calc(var(--border-width) * -2);

            inset-inline-start: 50%;
            transform: translateX(-50%);

            width: calc(var(--narrow-width) - var(--offest-x));
            height: var(--border-width);

            background-color: currentColor;
        }
    
    }

    .citation {
        filter: opacity(75%);
        font-size: var(--font-size-sm);    
    }

    // Did you know

    .did-you-know__box {
        background-color: var(--light);
        background: linear-gradient(45deg, var(--light), hsla(0, 0%, 100%, 0));

        padding-block: var(--spacer-4);
        padding-inline: var(--spacer-3);

        border-inline-start:
            var(--border-width)
            var(--border-style)
            var(--primary);

        h2 { 
            font-size: var(--font-size-rg);
            text-transform: uppercase;
            color: var(--primary);
        }
    }

    @media screen and (min-width: 1000px) {

        .did-you-know__box {
            padding-inline: calc(var(--button-icon-only-size));
            margin-inline-start: calc(var(--button-icon-only-size) * -1);
        }

    }

    // Module Tabs

    .module-tabs {
        --shift: calc(var(--grid-divider-gap) * 0.5);

        margin-block-start: calc(var(--shift) * -1);
        margin-block-end: var(--grid-divider-gap);
    }

    // In this module

    .in-this-module {
        .button-group button:not([aria-selected="true"]) {
            color: var(--link-color);
        }
    }

} // end @layer