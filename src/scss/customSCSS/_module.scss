/*

In this file:

// A. Modules
// B. Variables
// C. Components

*/

//////////////////////////////////////////////
// A. Modules
//////////////////////////////////////////////

@use "sass:map";
@use "../breakpoint";

//////////////////////////////////////////////
// B. Variables
//////////////////////////////////////////////

.module {
    --grid-sidebar-width: 20em;
}

//////////////////////////////////////////////
// C. Components
//////////////////////////////////////////////

@layer component {

    .module__main {
        container-type: inline-size;
        container-name: module-main;

        // background-color: bisque;
    }

    .module__main section,
    .module__footer {
        --offset-x: calc(var(--container-padding-x-lg) * 2);

        position: relative;

        // outline: 1px solid red;
    }

    .module__main section:not(:nth-of-type(1)),
    .module__footer {

        margin-block: var(--spacer-4);

        // background-color: yellow;

        // &:not(:first-child)::before {
        //     content: '';
        //     position: absolute;
        //     inset-block-start: calc(var(--border-width) * -2);

        //     inset-inline-start: 50%;
        //     transform: translateX(-50%);

        //     width: calc(var(--narrow-width) - var(--offset-x));
        //     height: var(--border-width);

        //     background-color: currentColor;
        // }
    
    }

    // Did you know

    .did-you-know__box {
        --border-color: var(--primary);
        
        background-color: var(--light);
        background: linear-gradient(45deg, var(--light), hsla(0, 0%, 100%, 0));

        padding-block: var(--spacer-4);
        padding-inline: var(--spacer-3);

        border-inline-start:
            var(--border-width)
            var(--border-style)
            var(--primary);

        h2 { 
            font-size: var(--font-size-rg);
            text-transform: uppercase;
            color: var(--primary);
        }
    }

    @media screen and (min-width: 1000px) {

        .did-you-know__box {
            padding-inline: calc(var(--button-icon-only-size));
            margin-inline-start: calc(var(--button-icon-only-size) * -1);
        }

    }

    // Module Tabs

    .module-tabs {
        --shift: calc(var(--grid-divider-gap) * 0.5);

        margin-block-start: calc(var(--shift) * -1);
        margin-block-end: var(--grid-divider-gap);
    }

    // In this module

    .module__tools {
        // background-color: bisque;

        border: var(--border-width) var(--border-style) var(--border-color);
        border-radius: var(--border-radius);
        padding: var(--spacer-1);
        
        .button-group {
            button:not([aria-selected="true"]) {
                color: var(--link-color);
            }

            button[aria-selected="true"] {
                background-color: var(--link-color);
                color: white;
            }
        }
    }

    //Citation

    .citation {
        filter: opacity(75%);
        font-size: var(--font-size-sm);    
    }

} // end @layer